<%- include('partials/head', { pageTitle: 'The Vault of Ancient Lore' }) %>

<div class="page-header">
  <h1>The Vault of Ancient Lore</h1>
  <a href="/" class="btn btn-outline">Back to Quest Board</a>
</div>

<div class="vault-container">
  <div class="vault-tabs">
    <button type="button" class="vault-tab active" data-tab="species">Races</button>
    <button type="button" class="vault-tab" data-tab="classes">Classes</button>
    <button type="button" class="vault-tab" data-tab="spells">Spells</button>
    <button type="button" class="vault-tab" data-tab="items">Items</button>
    <button type="button" class="vault-tab" data-tab="feats">Feats</button>
    <button type="button" class="vault-tab" data-tab="optfeatures">Options</button>
    <button type="button" class="vault-tab" data-tab="backgrounds">Backgrounds</button>
    <button type="button" class="vault-tab" data-tab="monsters">Bestiary</button>
    <button type="button" class="vault-tab" data-tab="conditions">Conditions</button>
    <button type="button" class="vault-tab" data-tab="rules">Rules</button>
  </div>

  <!-- Races Tab -->
  <div class="vault-panel active" id="vault-species">
    <div class="vault-filters">
      <input type="text" class="vault-search" id="species-search" placeholder="Search races...">
    </div>
    <div class="vault-results" id="species-results">
      <div class="vault-loading">Loading...</div>
    </div>
  </div>

  <!-- Classes Tab -->
  <div class="vault-panel" id="vault-classes">
    <div class="vault-filters">
      <input type="text" class="vault-search" id="classes-search" placeholder="Search classes...">
    </div>
    <div class="vault-results" id="classes-results">
      <div class="vault-loading">Loading...</div>
    </div>
  </div>

  <!-- Spells Tab -->
  <div class="vault-panel" id="vault-spells">
    <div class="vault-filters">
      <input type="text" class="vault-search" id="spells-search" placeholder="Search spells...">
      <select id="spells-level" class="vault-filter-select">
        <option value="">All Levels</option>
        <option value="0">Cantrip</option>
        <option value="1">1st Level</option>
        <option value="2">2nd Level</option>
        <option value="3">3rd Level</option>
        <option value="4">4th Level</option>
        <option value="5">5th Level</option>
        <option value="6">6th Level</option>
        <option value="7">7th Level</option>
        <option value="8">8th Level</option>
        <option value="9">9th Level</option>
      </select>
      <select id="spells-school" class="vault-filter-select">
        <option value="">All Schools</option>
        <option value="A">Abjuration</option>
        <option value="C">Conjuration</option>
        <option value="D">Divination</option>
        <option value="E">Enchantment</option>
        <option value="V">Evocation</option>
        <option value="I">Illusion</option>
        <option value="N">Necromancy</option>
        <option value="T">Transmutation</option>
      </select>
      <select id="spells-source" class="vault-filter-select">
        <option value="">All Sources</option>
        <option value="PHB">Player's Handbook</option>
        <option value="XPHB">Player's Handbook (2024)</option>
        <option value="XGE">Xanathar's Guide</option>
        <option value="TCE">Tasha's Cauldron</option>
        <option value="FTD">Fizban's Treasury</option>
        <option value="SCC">Strixhaven</option>
        <option value="EGW">Wildemount</option>
        <option value="AAG">Astral Guide</option>
        <option value="AI">Acquisitions Inc.</option>
      </select>
      <select id="spells-casttype" class="vault-filter-select">
        <option value="">All Cast Types</option>
        <option value="concentration">Concentration</option>
        <option value="ritual">Ritual</option>
        <option value="action">Action</option>
      </select>
    </div>
    <div class="vault-results" id="spells-results">
      <div class="vault-loading">Loading...</div>
    </div>
  </div>

  <!-- Items Tab -->
  <div class="vault-panel" id="vault-items">
    <div class="vault-filters">
      <input type="text" class="vault-search" id="items-search" placeholder="Search items...">
      <select id="items-category" class="vault-filter-select">
        <option value="">All Categories</option>
        <option value="M">Melee Weapons</option>
        <option value="R">Ranged Weapons</option>
        <option value="A">Armor</option>
        <option value="LA">Light Armor</option>
        <option value="MA">Medium Armor</option>
        <option value="HA">Heavy Armor</option>
        <option value="S">Shields</option>
        <option value="P">Potions</option>
        <option value="RG">Rings</option>
        <option value="RD">Rods</option>
        <option value="SC">Scrolls</option>
        <option value="ST">Staffs</option>
        <option value="WD">Wands</option>
        <option value="SCF">Spellcasting Focus</option>
        <option value="G">Adventuring Gear</option>
        <option value="AT">Artisan's Tools</option>
        <option value="T">Tools</option>
        <option value="$A">Ammunition</option>
        <option value="FD">Food & Drink</option>
        <option value="MNT">Mounts</option>
        <option value="VEH">Vehicles</option>
      </select>
      <select id="items-rarity" class="vault-filter-select">
        <option value="">All Rarities</option>
        <option value="common">Common</option>
        <option value="uncommon">Uncommon</option>
        <option value="rare">Rare</option>
        <option value="very rare">Very Rare</option>
        <option value="legendary">Legendary</option>
        <option value="artifact">Artifact</option>
      </select>
      <select id="items-magic" class="vault-filter-select">
        <option value="">All Items</option>
        <option value="true">Magic Items Only</option>
        <option value="false">Mundane Only</option>
      </select>
    </div>
    <div class="vault-results" id="items-results">
      <div class="vault-loading">Loading...</div>
    </div>
  </div>

  <!-- Feats Tab -->
  <div class="vault-panel" id="vault-feats">
    <div class="vault-filters">
      <input type="text" class="vault-search" id="feats-search" placeholder="Search feats...">
    </div>
    <div class="vault-results" id="feats-results">
      <div class="vault-loading">Loading...</div>
    </div>
  </div>

  <!-- Optional Features Tab -->
  <div class="vault-panel" id="vault-optfeatures">
    <div class="vault-filters">
      <input type="text" class="vault-search" id="optfeatures-search" placeholder="Search optional features...">
      <select id="optfeatures-type" class="vault-filter-select">
        <option value="">All Types</option>
      </select>
    </div>
    <div class="vault-results" id="optfeatures-results">
      <div class="vault-loading">Loading...</div>
    </div>
  </div>

  <!-- Backgrounds Tab -->
  <div class="vault-panel" id="vault-backgrounds">
    <div class="vault-filters">
      <input type="text" class="vault-search" id="backgrounds-search" placeholder="Search backgrounds...">
    </div>
    <div class="vault-results" id="backgrounds-results">
      <div class="vault-loading">Loading...</div>
    </div>
  </div>

  <!-- Bestiary Tab -->
  <div class="vault-panel" id="vault-monsters">
    <div class="vault-filters">
      <input type="text" class="vault-search" id="monsters-search" placeholder="Search monsters...">
      <select id="monsters-cr" class="vault-filter-select">
        <option value="">All CRs</option>
        <option value="0">CR 0</option>
        <option value="1/8">CR 1/8</option>
        <option value="1/4">CR 1/4</option>
        <option value="1/2">CR 1/2</option>
        <option value="1">CR 1</option>
        <option value="2">CR 2</option>
        <option value="3">CR 3</option>
        <option value="4">CR 4</option>
        <option value="5">CR 5</option>
        <option value="6">CR 6</option>
        <option value="7">CR 7</option>
        <option value="8">CR 8</option>
        <option value="9">CR 9</option>
        <option value="10">CR 10</option>
        <option value="11">CR 11</option>
        <option value="12">CR 12</option>
        <option value="13">CR 13</option>
        <option value="14">CR 14</option>
        <option value="15">CR 15</option>
        <option value="16">CR 16</option>
        <option value="17">CR 17</option>
        <option value="18">CR 18</option>
        <option value="19">CR 19</option>
        <option value="20">CR 20</option>
        <option value="21">CR 21</option>
        <option value="22">CR 22</option>
        <option value="23">CR 23</option>
        <option value="24">CR 24</option>
        <option value="25">CR 25</option>
        <option value="26">CR 26</option>
        <option value="27">CR 27</option>
        <option value="28">CR 28</option>
        <option value="29">CR 29</option>
        <option value="30">CR 30</option>
      </select>
      <select id="monsters-type" class="vault-filter-select">
        <option value="">All Types</option>
      </select>
      <select id="monsters-size" class="vault-filter-select">
        <option value="">All Sizes</option>
        <option value="T">Tiny</option>
        <option value="S">Small</option>
        <option value="M">Medium</option>
        <option value="L">Large</option>
        <option value="H">Huge</option>
        <option value="G">Gargantuan</option>
      </select>
    </div>
    <div class="vault-results" id="monsters-results">
      <div class="vault-loading">Loading...</div>
    </div>
  </div>

  <!-- Conditions Tab -->
  <div class="vault-panel" id="vault-conditions">
    <div class="vault-filters">
      <input type="text" class="vault-search" id="conditions-search" placeholder="Search conditions...">
      <select id="conditions-type" class="vault-filter-select">
        <option value="">All Types</option>
        <option value="condition">Conditions</option>
        <option value="disease">Diseases</option>
      </select>
    </div>
    <div class="vault-results" id="conditions-results">
      <div class="vault-loading">Loading...</div>
    </div>
  </div>

  <!-- Rules Tab -->
  <div class="vault-panel" id="vault-rules">
    <div class="vault-filters">
      <input type="text" class="vault-search" id="rules-search" placeholder="Search rules & actions...">
    </div>
    <div class="vault-results" id="rules-results">
      <div class="vault-loading">Loading...</div>
    </div>
  </div>
</div>

<!-- Detail Modal -->
<div class="vault-modal-overlay" id="vault-modal" style="display: none;">
  <div class="vault-modal">
    <div class="vault-modal-header">
      <h2 class="vault-modal-title">Loading...</h2>
      <button class="vault-modal-close">&times;</button>
    </div>
    <div class="vault-modal-body">
      <div class="vault-loading">Loading details...</div>
    </div>
  </div>
</div>

<script src="/js/vault.js?v=<%= typeof appVersion !== 'undefined' ? appVersion : '1' %>"></script>

<%- include('partials/foot') %>
